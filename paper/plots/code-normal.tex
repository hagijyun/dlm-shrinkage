\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{data} \PY{p}{\PYZob{}}
  \PY{c+c1}{// number of observations}
  \PY{k+kt}{int} \PY{n}{n\PYZus{}obs}\PY{p}{;}
  \PY{c+c1}{// observed data}
  \PY{k+kt}{real} \PY{n}{y}\PY{p}{[}\PY{n}{n\PYZus{}obs}\PY{p}{]}\PY{p}{;}
  \PY{c+c1}{// initial values}
  \PY{k+kt}{real} \PY{n}{theta1\PYZus{}mean}\PY{p}{;}
  \PY{k+kt}{real}\PY{o}{\PYZlt{}}\PY{k}{lower}\PY{o}{=}\PY{l+m+mf}{0.0}\PY{o}{\PYZgt{}} \PY{n}{theta1\PYZus{}sd}\PY{p}{;}
\PY{p}{\PYZcb{}}
\PY{k+kn}{parameters} \PY{p}{\PYZob{}}
  \PY{c+c1}{// latent states}
  \PY{k+kt}{real} \PY{n}{theta\PYZus{}innov}\PY{p}{[}\PY{n}{n\PYZus{}obs}\PY{p}{]}\PY{p}{;}
  \PY{k+kt}{real} \PY{n}{logsigma}\PY{p}{;}
  \PY{k+kt}{real}\PY{o}{\PYZlt{}}\PY{k}{lower}\PY{o}{=}\PY{l+m+mf}{0.0}\PY{o}{\PYZgt{}} \PY{n}{tau}\PY{p}{;}
\PY{p}{\PYZcb{}}
\PY{k+kn}{transformed parameters} \PY{p}{\PYZob{}}
  \PY{k+kt}{real}\PY{o}{\PYZlt{}}\PY{k}{lower}\PY{o}{=}\PY{l+m+mf}{0.0}\PY{o}{\PYZgt{}} \PY{n}{sigma}\PY{p}{;}
  \PY{k+kt}{real} \PY{n}{theta}\PY{p}{[}\PY{n}{n\PYZus{}obs}\PY{p}{]}\PY{p}{;}
  \PY{n}{sigma} \PY{o}{\PYZlt{}\PYZhy{}} \PY{n+nb}{exp}\PY{p}{(}\PY{n}{logsigma}\PY{p}{)}\PY{p}{;}

  \PY{n}{theta}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{n}{theta1\PYZus{}mean} \PY{o}{+} \PY{n}{theta1\PYZus{}sd} \PY{o}{*} \PY{n}{theta\PYZus{}innov}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{;}
  \PY{k}{for} \PY{p}{(}\PY{n}{i} \PY{k}{in} \PY{l+m+mi}{2}\PY{p}{:}\PY{n}{n\PYZus{}obs}\PY{p}{)} \PY{p}{\PYZob{}}
    \PY{n}{theta}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{n}{theta}\PY{p}{[}\PY{n}{i}\PY{l+m+mi}{\PYZhy{}1}\PY{p}{]} \PY{o}{+} \PY{n}{sigma} \PY{o}{*} \PY{n}{tau} \PY{o}{*} \PY{n}{theta\PYZus{}innov}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{;}
  \PY{p}{\PYZcb{}}
\PY{p}{\PYZcb{}}
\PY{k+kn}{model} \PY{p}{\PYZob{}}
  \PY{n}{theta\PYZus{}innov} \PY{o}{\PYZti{}} \PY{n+nb}{normal}\PY{p}{(}\PY{l+m+mf}{0.0}\PY{p}{,} \PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{;}
  \PY{n}{tau} \PY{o}{\PYZti{}} \PY{n+nb}{cauchy}\PY{p}{(}\PY{l+m+mf}{0.0}\PY{p}{,} \PY{l+m+mf}{1.0}\PY{p}{)}\PY{p}{;}
  \PY{n}{y} \PY{o}{\PYZti{}} \PY{n+nb}{normal}\PY{p}{(}\PY{n}{theta}\PY{p}{,} \PY{n}{sigma}\PY{p}{)}\PY{p}{;}
\PY{p}{\PYZcb{}}
\PY{k+kn}{generated quantities} \PY{p}{\PYZob{}}
  \PY{k+kt}{real} \PY{n}{llik}\PY{p}{[}\PY{n}{n\PYZus{}obs}\PY{p}{]}\PY{p}{;}
  \PY{k+kt}{real} \PY{n}{deviance}\PY{p}{;}
  
  \PY{k}{for} \PY{p}{(}\PY{n}{i} \PY{k}{in} \PY{l+m+mi}{1}\PY{p}{:}\PY{n}{n\PYZus{}obs}\PY{p}{)} \PY{p}{\PYZob{}}
    \PY{n}{llik}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{\PYZlt{}\PYZhy{}} \PY{n+nb}{normal\PYZus{}log}\PY{p}{(}\PY{n}{y}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{theta}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{sigma}\PY{p}{)}\PY{p}{;}
  \PY{p}{\PYZcb{}}
  \PY{n}{deviance} \PY{o}{\PYZlt{}\PYZhy{}} \PY{l+m+mi}{\PYZhy{}2} \PY{o}{*} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{llik}\PY{p}{)}\PY{p}{;}
\PY{p}{\PYZcb{}}
\end{Verbatim}
